(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],u=0,v=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(v.length)v.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={app:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t),a.d(t,"db",(function(){return fe}));a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("navbar",{attrs:{user:e.currentUser,name:e.name,color:e.color},on:{logout:e.logout}}),a("v-main",[a("router-view",{attrs:{color:e.color,user:e.name,mail:e.currentUser,first:e.first},on:{login:e.login,changePass:e.changePass,firstCancel:e.firstCancel}})],1)],1)},o=[],s=(a("4160"),a("caad"),a("b0c0"),a("2532"),a("159b"),a("96cf"),a("1da1")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",color:e.color,dark:""}},[a("v-app-bar-title",[a("v-icon",{attrs:{"x-large":""}},[e._v("mdi-caravan")]),e._v(" Caravan Kalender")],1),a("v-spacer"),"remko.vroomans@gmail.com"===e.user?a("v-btn",{staticClass:"mx-1",attrs:{plain:"",dark:""},on:{click:e.getProfile}},[e._v(" Profile ")]):e._e(),e.user?a("v-btn",{staticClass:"mx-1",attrs:{plain:"",dark:""},on:{click:e.logout}},[a("v-icon",[e._v("mdi-exit-to-app")])],1):e._e(),a("v-dialog",{attrs:{width:"500"},model:{value:e.profileDialog,callback:function(t){e.profileDialog=t},expression:"profileDialog"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",{staticClass:"font-weight-light"},[e._v(e._s(e.profile.name))]),a("v-card-subtitle",[e._v(e._s(e.user))]),a("v-list",[a("v-list-item-group",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[e._l(e.profile.emails,(function(t,n){return a("v-list-item",{key:n,attrs:{inactive:""}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-email")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Email "+e._s(n+1))]),a("v-list-item-subtitle",{domProps:{textContent:e._s(t)}})],1)],1)})),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[e._v("mdi-lock")])],1),a("v-list-item-title",[e._v("Wijzig wachtwoord")])],1)],2)],1),a("v-btn",{staticClass:"ma-5",attrs:{color:e.color,dark:""}},[e._v(" Opslaan ")]),a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.profileDialog=!1}}},[e._v(" Annuleer ")])],1)],1)],1)},c=[],l={name:"navbar",props:["user","color"],data:function(){return{profileDialog:!1,profile:{},emails:[],model:1}},methods:{logout:function(){this.$emit("logout")},getProfile:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fe.collection("users").get().then((function(t){t.forEach((function(t){t.data().emails.includes(e.user)&&(e.profile=t.data(),e.profile.id=t.data().id,e.emails=t.data().emails,e.profileDialog=!0)}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 2:case"end":return t.stop()}}),t)})))()}}},d=l,u=a("2877"),v=a("6544"),f=a.n(v),p=a("40dc"),m=a("bb78"),h=a("8336"),g=a("b0af"),b=a("99d9"),w=a("169a"),k=a("132d"),x=a("8860"),_=a("da13"),E=a("5d23"),y=a("1baa"),C=a("34c3"),V=a("2fa4"),O=Object(u["a"])(d,i,c,!1,null,null,null),j=O.exports;f()(O,{VAppBar:p["a"],VAppBarTitle:m["a"],VBtn:h["a"],VCard:g["a"],VCardSubtitle:b["b"],VCardTitle:b["d"],VDialog:w["a"],VIcon:k["a"],VList:x["a"],VListItem:_["a"],VListItemContent:E["a"],VListItemGroup:y["a"],VListItemIcon:C["a"],VListItemSubtitle:E["b"],VListItemTitle:E["c"],VSpacer:V["a"]});var P=a("2591"),T={components:{Navbar:j},name:"App",data:function(){return{currentUser:null,color:"primary",name:"",first:!1,firstMails:[]}},methods:{loadUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fe.collection("users").get().then((function(t){t.docs.forEach((function(t){"first"===t.id&&(e.firstMails=t.data().emails,e.firstMails.includes(e.currentUser)?e.first=!1:(e.first=!0,e.firstMails.push(e.currentUser),fe.collection("users").doc("first").update({emails:e.firstMails})))})),t.forEach((function(t){t.data().emails.includes(e.currentUser)&&(e.color=t.data().color,e.name=t.data().name)}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 2:case"end":return t.stop()}}),t)})))()},login:function(e,t,a){var n=this;P["a"].auth().signInWithEmailAndPassword(t,a).then((function(e){var t=e.user;n.currentUser=t.email,n.loadUser(),n.$router.push("/kalender")}),(function(e){alert("In de login methode: "+e.message)})),e.preventDefault()},logout:function(){var e=this;P["a"].auth().signOut().then((function(){e.currentUser=null,e.color="primary",e.$router.push("/")}))},changePass:function(e,t){var a=P["a"].auth().currentUser,n=this;a.updatePassword(t).then((function(){n.first=!1,n.logout()})).catch((function(e){alert(e)})),e.preventDefault()},firstCancel:function(){this.first=!1}}},I=T,D=a("7496"),S=a("f6c4"),$=Object(u["a"])(I,r,o,!1,null,null,null),A=$.exports;f()($,{VApp:D["a"],VMain:S["a"]});var R=a("f309");n["a"].use(R["a"]);var M=new R["a"]({}),U=a("3f9d"),L=a("260b"),B=(a("e71f"),a("8c4f")),W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.first,callback:function(t){e.first=t},expression:"first"}},[a("v-card",{attrs:{width:"400"}},[a("v-card-title",[e._v("Verander Wachtwoord")]),a("v-card-subtitle",[e._v("Omdat je voor het eerst inlogt kun je je wachtwoord aanpassen. Daarna moet je opnieuw inloggen met je nieuwe wachtwoord.")]),a("v-form",{ref:"form",staticClass:"pa-4"},[a("v-text-field",{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",name:"input-10-1",label:"Nieuw Wachtwoord","prepend-icon":"mdi-lock"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"mr-4",attrs:{color:e.color},on:{click:e.changePass}},[e._v(" Pas aan ")]),a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){return t.stopPropagation(),e.firstCancel(t)}}},[e._v(" Zelfde laten ")])],1)],1)],1),a("v-card",{attrs:{Class:"mx-5"}},[a("v-card-title",{staticClass:"font-weight-light"},[e._v(e._s(e.user)+" "),a("v-spacer"),a("v-btn",{staticClass:"my-2",attrs:{color:e.color,fab:"",dark:""},on:{click:e.newEvent}},[a("v-icon",[e._v("mdi-plus")])],1)],1),a("v-row",{staticClass:"fill-height"},[a("v-col",[a("v-sheet",{attrs:{height:"64"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v(" Vandaag ")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),e.$refs.calendar?a("v-toolbar-title",[e._v(" "+e._s(e.$refs.calendar.title)+" ")]):e._e()],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"mx-auto"},[a("v-card-title",[e._v(e._s(e.user))]),a("v-card",{staticClass:"d-flex justify-center",attrs:{flat:""}},[a("v-card-actions",[a("v-date-picker",{attrs:{range:"",elevation:"10",color:e.color,"first-day-of-week":"1",locale:"nl-NL","selected-items-text":"Opslaan?"},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)],1),e.selectedEvent.id&&e.user===e.selectedEvent.name?a("v-btn",{staticClass:"ma-5",attrs:{color:e.color,dark:""},on:{click:e.updateEvent}},[e._v(" Bijwerken ")]):a("v-btn",{staticClass:"ma-5",attrs:{color:e.color,dark:""},on:{click:e.saveEvent}},[e._v(" Opslaan ")]),a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.dialog=!1}}},[e._v(" Annuleer ")])],1)],1),a("v-sheet",{staticClass:"px-3",attrs:{height:"500"}},[a("v-calendar",{ref:"calendar",attrs:{color:e.color,events:e.events,"event-color":e.getEventColor,type:e.type,locale:"nl-NL",weekdays:e.weekdays},on:{"click:event":e.showEvent},model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"max-width":"350px"},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-toolbar-title",{domProps:{innerHTML:e._s(e.selectedEvent.name)}}),a("v-spacer"),e.user===e.selectedEvent.name?a("v-btn",{attrs:{icon:""},on:{click:e.changeEvent}},[a("v-icon",[e._v("mdi-calendar")])],1):e._e(),e.user===e.selectedEvent.name||"remko.vroomans@gmail.com"===e.mail?a("v-btn",{attrs:{icon:""},on:{click:function(t){e.delEvent=!0}}},[a("v-icon",[e._v("mdi-delete")])],1):e._e()],1),a("v-dialog",{attrs:{width:"400"},model:{value:e.delEvent,callback:function(t){e.delEvent=t},expression:"delEvent"}},[a("v-card",[a("v-card-title",[e._v("Weet je het zeker?")]),a("v-card-actions",{staticClass:"d-flex justify-center"},[a("v-btn",{staticClass:"ma-5",attrs:{color:e.color,dark:""},on:{click:function(t){return e.deleteEvent(e.selectedEvent.id)}}},[e._v("Verwijderen")]),a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){t.stopPropagation(),e.delEvent=!1}}},[e._v(" Annuleer ")])],1)],1)],1),a("v-card-text",[a("span",[e._v(e._s("Gereserveerd van "+e.selectedEvent.start+" tot "+e.selectedEvent.end+"."))])]),a("v-card-actions",[a("v-btn",{attrs:{text:"",color:"secondary"},on:{click:function(t){e.selectedOpen=!1}}},[e._v(" Sluiten ")])],1)],1)],1)],1)],1)],1)],1)],1)},q=[],F={name:"calendar",props:["color","user","mail","first"],data:function(){return{username:"",password:"",details:null,start:null,end:null,focus:"",type:"month",selectedEvent:{},selectedElement:null,selectedOpen:!1,events:[],dialog:!1,delEvent:!1,dates:[],weekdays:[1,2,3,4,5,6,0],show:!1}},mounted:function(){this.getEvents()},methods:{newEvent:function(){this.selectedEvent={},this.dates=[],this.dialog=!0},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){var t=this,a=e.nativeEvent,n=e.event,r=function(){t.selectedEvent=n,t.selectedElement=a.target,setTimeout((function(){t.selectedOpen=!0}),10)};this.selectedOpen?(this.selectedOpen=!1,setTimeout(r,10)):r(),a.stopPropagation()},changeEvent:function(){this.dates[0]=this.selectedEvent.start,this.dates[1]=this.selectedEvent.end,this.dialog=!0},getEvents:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fe.collection("reserveringen").get();case 2:a=t.sent,n=[],a.forEach((function(e){var t=e.data();t.id=e.id,n.push(t)})),e.events=n;case 6:case"end":return t.stop()}}),t)})))()},deleteEvent:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,fe.collection("reserveringen").doc(e).delete();case 2:t.selectedOpen=!1,t.getEvents();case 4:case"end":return a.stop()}}),a)})))()},updateEvent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.selectedEvent.id,e.start=e.dates[0],e.end=e.dates[1],t.next=5,fe.collection("reserveringen").doc(a).update({start:e.start,end:e.end});case 5:e.selectedOpen=!1,e.selectedEvent={},e.start="",e.end="",e.dates=[],e.dialog=!1,e.getEvents();case 12:case"end":return t.stop()}}),t)})))()},saveEvent:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.start=e.dates[0],e.end=e.dates[1],t.next=4,fe.collection("reserveringen").add({name:e.user,start:e.start,end:e.end,color:e.color});case 4:e.getEvents(),e.start="",e.end="",e.dates=[],e.dialog=!1;case 9:case"end":return t.stop()}}),t)})))()},changePass:function(e){this.$emit("changePass",e,this.password)},firstCancel:function(e){this.$emit("firstCancel",e)}}},z=F,N=a("a4f6"),G=a("62ad"),J=a("a523"),K=a("2e4b"),Z=a("4bd4"),H=a("e449"),X=a("0fd9"),Q=a("8dd9"),Y=a("8654"),ee=a("71d9"),te=a("2a7f"),ae=Object(u["a"])(z,W,q,!1,null,null,null),ne=ae.exports;f()(ae,{VBtn:h["a"],VCalendar:N["a"],VCard:g["a"],VCardActions:b["a"],VCardSubtitle:b["b"],VCardText:b["c"],VCardTitle:b["d"],VCol:G["a"],VContainer:J["a"],VDatePicker:K["a"],VDialog:w["a"],VForm:Z["a"],VIcon:k["a"],VMenu:H["a"],VRow:X["a"],VSheet:Q["a"],VSpacer:V["a"],VTextField:Y["a"],VToolbar:ee["a"],VToolbarTitle:te["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"d-flex justify-center mt-5",attrs:{width:"600"}},[a("v-card",{attrs:{width:"400"}},[a("v-card-title",[e._v("Login")]),a("v-form",{ref:"form",staticClass:"pa-4"},[a("v-text-field",{attrs:{label:"E-mail",required:"","prepend-icon":"mdi-email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{"append-icon":e.show?"mdi-eye":"mdi-eye-off",type:e.show?"text":"password",name:"input-10-1",label:"Wachtwoord","prepend-icon":"mdi-lock"},on:{"click:append":function(t){e.show=!e.show}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"primary"},on:{click:e.login}},[e._v(" Inloggen ")])],1)],1)],1)},oe=[],se={name:"login",data:function(){return{email:"",password:"",show:!1,dialog:!1}},methods:{login:function(e){this.$emit("login",e,this.email,this.password)}}},ie=se,ce=Object(u["a"])(ie,re,oe,!1,null,null,null),le=ce.exports;f()(ce,{VBtn:h["a"],VCard:g["a"],VCardTitle:b["d"],VContainer:J["a"],VForm:Z["a"],VTextField:Y["a"]}),n["a"].use(B["a"]);var de=[{path:"/",name:"login",component:le},{path:"/kalender",name:"calendar",component:ne,meta:{requiresAuth:!0}}],ue=new B["a"]({mode:"history",base:"/",routes:de});ue.beforeEach((function(e,t,a){e.meta.requiresAuth&&!P["a"].auth().currentUser?a({path:"/",query:{redirect:e.fullPath}}):a()}));var ve=ue;n["a"].use(U["a"]),n["a"].config.productionTip=!1,L["a"].initializeApp({apiKey:"AIzaSyD2WXF39qGEhjrlZwdco5ru5DOih05oSjs",authDomain:"caravan-kalender.firebaseapp.com",projectId:"caravan-kalender",storageBucket:"caravan-kalender.appspot.com",messagingSenderId:"775008643941",appId:"1:775008643941:web:51cc146ba92894c1188f8c"});var fe=L["a"].firestore();new n["a"]({vuetify:M,router:ve,render:function(e){return e(A)}}).$mount("#app")}});
//# sourceMappingURL=app.37b78884.js.map